<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
	<style type="text/css">
		span {
			width: 25px;
			height: 25px;
			padding-right: 20px;
			border: 1px solid gray;
		}
		span.hidden {
			display: none;
		}
		table {
			border: .5px solid black;
			width: 70%;
		}
	</style>
</head>
<body>

<i>Please open in Firefox, this will not work on Chrome due to cross origin issues. [Or run through a local server to get around the issue.]</i>


<!-- <h4>Moving Boxes</h4>
If your table has one non-header row, and starts like:
<p>
<table>
<tr><th>A</th><th>B</th></tr></tr>
<tr><td>[b][y][o][r]</td><td>&nbsp;</td></tr>
</table> -->

<h2 id="countClicksDisplay">0 clicks</h2>

You should be able to click [y] and [r], and end up with a row that looks like:


<!-- <table id="mainTable">
	<tr><th>A</th><th>B</th></tr>
	<tr>
		<td>
			<span>[b]</span>
			<span>[o]</span>
			<span>[y]</span>
			<span>[r]</span>
		</td>
		<td>
			<span>[b]</span>
			<span>[o]</span>
			<span>[y]</span>
			<span>[r]</span>
		</td>
	</tr>
</table> -->



</body>
<script type="text/javascript">
	$( document ).ready(function() {
	    console.log( "ready!" );
	    //import json file

	    $.ajax({
	    	url: "rows.json",
	    	type: "GET",
	    	dataType: "json",
	    	success: function(json) {
	    		console.log(json);
	    		jsonReturned = JSON.stringify(json);
	    		console.log(jsonReturned);
	    		createTable(json);
	    	},
	    	error: function(xhr, status, errorThrown) {
	    		console.log('there was a problem');
	    		console.log(status + errorThrown);
	    		console.dir(xhr);
	    	},
	    	complete: function(xhr, status) {
	    		console.log('The request is complete!');
	    	}
	    });

		function appendTable (tableRow) {
		};
		function createTable (rawJson) {
			var countClicks = 0;
			// $('body').append("<table id='mainTable'><tr><th>A</th><th>B</th></tr><tr><td><span>[b]</span><span>[o]</span><span>[y]</span><span>[r]</span></td><td><span>[b]</span><span>[o]</span><span>[y]</span><span>[r]</span></td></tr></table>");
			// $('body').append("<table><tr><th>A</th><th>B</th></tr><tr>");
			// for (var i = rawJson.length - 1; i >= 0; i--) {
			// 	$('body').append("<tr>");
			// 		for (var i = 2; i >= 0; i--) {
			// 			$('body').append("<td>")
			// 			for (var i = rawJson[i].sequence.length - 1; i >= 0; i--) {
			// 				$('body').append('<span>');
			// 					$('body').append(rawJson[i].sequence[i]);
			// 					console.log("should be a color here");
			// 					console.log(rawJson[i].sequence[i]);
			// 				$('body').append('</span>');
			// 			};
			// 			$('body').append("/<td>")
			// 		};
			// 	$('body').append("</tr>");
			// 	// rawJson[i].sequence

			// };
			// console.log('successfully created table');
			// $('body').append("</table>");

			tableText = "<table><tr><th>A</th><th>B</th></tr><tr>";
			for (var i = rawJson.length - 1; i >= 0; i--) {
				tableText += "<tr>";
					for (var k = 1; k >= 0; k--) {
						hiddenOrShownClass = "hidden";
						if (k == 0) { hiddenOrShownClass = "shown";};
						tableText += "<td>";
						for (var j = rawJson[i].sequence.length - 1; j >= 0; j--) {
							tableText += "<span class='i"+i+"j"+j+" "+hiddenOrShownClass+"'>";
								tableText += rawJson[i].sequence[j];
								console.log("should be a color here");
								console.log(rawJson[i].sequence[j]);
							tableText += "</span>";
						};
						tableText += "</td>";
					};
				tableText += "</tr>";
				// rawJson[i].sequence

			};
			tableText += "</table>";
			console.log('tableText is: ' + tableText);
			$(tableText).appendTo('body');
	
			$('span').bind("click", function () {

				//strategy should be to toggle sibling spans on and off.  This could be done by toggling class names on the spans.  Originally set by incoming JSON data.
				countClicks ++;
				$("#countClicksDisplay").text(countClicks + " clicks");

				spanClass = eval("'span." + $(this).attr('class') + "'");
				console.log("spanClass = " + spanClass);
				$(spanClass).toggle("class", "hidden");

				alert("something has changed");// body...
			});
		};


		// var buttons = document.getElementByType('button');
		// buttons.addEventListener('click', function(){ 
		//     console.log('CLICKED');
		// });

		// $('span').click(function () {
		// 	// $(this).css("background-color", "purple");
		// 	// clone = $(this);
		// 	// clone.appendTo();
		// 	// $(this).detach();
		// 	// console.log("clicked on a td");
		// 	// body...
		// 	alert("clicked on a span");
		// 	$(this).hide();
		// 	$(this).parent().sibling().children($(this).attr('class')).show();
		// });

		// function function_name (argument) {
		// 	// body...
		// }();

	});
</script>
</html>